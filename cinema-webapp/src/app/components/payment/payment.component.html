<app-header></app-header>


<div id="container">
    <h3>Adicione comida ao seu pedido:</h3>
    <div class="food">
        <label>Nachos:</label>
        <div class="form-check">
            <input class="form-check-input" value="Nachos" type="checkbox" name="flexRadioDefault" id="NachosPequeno" (change)="onItemChange($event.target.value)">
            <label class="form-check-label" for="flexRadioDefault1">
            500g
            </label>
        </div>
    </div>

    <div class="food">
        <label>Pipocas:</label>
        <div class="form-check">
            <input class="form-check-input" value="Pipocas" type="checkbox" name="flexRadioDefault" id="flexRadioDefault1" (change)="onItemChange($event.target.value)">
            <label class="form-check-label" for="flexRadioDefault1">
                500g
            </label>
        </div>
    </div>

    <div class="food">
        <label>Coca cola:</label>
        <div class="form-check">
            <input class="form-check-input" value="Cocacola" type="checkbox" name="flexRadioDefault" id="flexRadioDefault1" (change)="onItemChange($event.target.value)">
            <label class="form-check-label" for="flexRadioDefault1">
            250ml
            </label>
        </div>
    </div>

    <div class="food">
        <label>Ice tea:</label>
        <div class="form-check">
            <input class="form-check-input" value="Icetea" type="checkbox" name="flexRadioDefault" id="flexRadioDefault1" (change)="onItemChange($event.target.value)">
            <label class="form-check-label" for="flexRadioDefault1">
            250ml
            </label>
        </div>
    </div>

    <div class="food">
        <label>Sprite:</label>
        <div class="form-check">
            <input class="form-check-input" value="Sprite" type="checkbox" name="flexRadioDefault" id="flexRadioDefault1" (change)="onItemChange($event.target.value)">
            <label class="form-check-label" for="flexRadioDefault1">
            250ml
            </label>
        </div>
    </div>

    <div class="food">
        <label>Água:</label>
        <div class="form-check">
            <input class="form-check-input" value="Agua" type="checkbox" name="flexRadioDefault" id="flexRadioDefault2" (change)="onItemChange($event.target.value)">
            <label class="form-check-label" for="flexRadioDefault2">
            250ml
            </label>
        </div>
    </div>
</div>

<div class="offset-xl-2 col-xl-8 col-lg-12 col-md-12 col-sm-12 col-12 padding">
    <div class="card">
        <div class="card-header p-4">
            <div class="float-right">
                <h3 class="mb-0">ID de reserva: {{ invoiceId }}</h3>
                Data: {{ myDate }}
            </div>
        </div>
        <div class="card-body">
            <div class="row mb-4">
                <div class="col-sm-6">
                    <h3 class="text-dark mb-1">Cinema MTSDS</h3>
                    <div>Felgueiras</div>
                    <div>Santa Eulália (Margaride)</div>
                    <div>Email: marcarcinema@cinemamtsds.com</div>
                    <div>Phone: 987654321</div>
                </div>
            </div>
            <div class="table-responsive-sm">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th class="center">#</th>
                            <th>Artigo</th>
                            <th>Data</th>
                            <th class="right">Preço</th>
                            <th class="center">Quantidade</th>
                        </tr>
                    </thead>
                    <tbody id="addFood">
                        <tr>
                            <td class="center">1</td>
                            <td class="left strong">{{ movieName }}</td>
                            <td class="left">{{ movieDate }} {{ movieHour }}</td>
                            <td class="right">3.5</td>
                            <td class="center">{{ numberOfSeats }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="row">
                <div class="col-lg-4 col-sm-5">
                </div>
                <div class="col-lg-4 col-sm-5 ml-auto">
                    <table class="table table-clear">
                        <tbody>
                            <tr>
                                <td class="left">
                                    <strong class="text-dark">Total</strong> </td>
                                <td class="right">
                                    <strong class="text-dark">{{ precoTotal }} €</strong>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="card-footer bg-white">
            <p class="mb-0">Felgueiras {{ myDate }}</p>
        </div>
        <button class="btn btn-info" (click)="finalizarCompra()">Finalizar compra</button>
        <button class="btn btn-success" (click)="open(content); gerarTicket()">Gerar ticket</button>

        <div>
            <ng-template #content let-modal>
                <div class="modal-header">
                  <h4 class="modal-title" id="modal-basic-title">Imprima o seu ticket!</h4>
                  <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">

                    <div class="box" id="ticketId" style="height: 380pt;">
                        <div class='inner'>
                        <h1>{{ movieName }}</h1>
                        <div class='info clearfix'>
                            <div class='wp'>Tickets<h2> {{numberOfSeats }}</h2></div>
                            <div class='wp'>Data<h2>{{ movieDate }} </h2></div>
                            <div class='wp'>Hora<h2>{{ movieHour }} </h2></div> 
                            <div class='wp'>Fila: <h2>{{ movieX }} </h2></div>
                            <div class='wp'>Coluna: <h2>{{ movieY }} </h2></div>
                            <div class='wp'>Id de reserva: <h2>{{ invoiceId }} </h2></div>
                        </div>
                        <div class='total clearfix'>
                            <h2>Total : <p>{{ precoTotal }} € </p></h2>
                        </div>
                        </div>
                    </div>
                  
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-outline-dark" (click)="exportToPdf()">Imprimir</button>
                </div>
              </ng-template>
        </div>
    </div>
</div>

<app-footer></app-footer>